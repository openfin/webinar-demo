<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>OpenFin API Demos</title>

		<link rel="stylesheet" href="bower_components/reveal.js/css/reveal.css">
		<link rel="stylesheet" href="bower_components/reveal.js/css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="bower_components/reveal.js/lib/css/zenburn.css">
    <style>
		.reveal section img  {
			border: 0px;
			background: none;
			box-shadow:none !important;
		}

		.external:hover {
			cursor:pointer;
		}

      .img-bar {
        height:300px;
        width:900px;
        text-align:center;
        vertical-align:middle !important;
        background:white;

      }
      .img-bar img{
        margin-left:20px !important;
        margin-right:20px !important;
          box-shadow:none !important;
      }

			.container {
				height:32px;
				background:white;
		    }
		    .container:active {
		        cursor: -webkit-grabbing !important;
		    }

		    .btn {
		  /*  padding: 3px;*/
		    margin-right: 0px;
		    font-weight: bold;
		    cursor: pointer;
		    transition: all .4s ease-in
		}
		.btn:hover {
		    background-color: #CBCBCB;
		  /*  border: 1px solid #333434;*/
		}
		.close.btn:hover {
			background-color:#E33;
		}
		.btn:active {
		    background-color: #CBCBCB;
		/*    border: 1px solid #333434;
		    box-shadow: inset 0 1px rgba(255,255,255,0.36), 0 0 0 2px #6fb5f1;*/
		    outline: 0;
		}
		.top-btn {
		    position: absolute;
		  /*  border-radius: 20px;*/
		    margin: 0px;
		    line-height: 10px;
		  /*  top: 5px;*/
		  /*  padding: 1px 4px 3px 4px;*/
		    -webkit-app-region: no-drag;
		}

		.close {
		    right: 0px;
		}

		.maximize {
		    right: 27px;
		}

		.minimize {
		    right: 53px;
		}

		.minimize-bar {
		    background: #2D2D2D;
		    width: 8px;
		    height: 2px;
		    display: inline-block;
		    border-radius: 20px;
		    vertical-align: middle;
		}

		.demo-button {
			background:#fff;
			text-transform: uppercase;
			font-size:24px;
			border-style:solid;
			border-color:#333;
		}

    </style>
		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>

		<div class="reveal">
			<div class="slides">
				<section>
					<img src="img/openfin-logo.png" style="border:0;box-shadow:0 0 0px;">

						<div style="font-size:32px;width=100%;text-align:center;">
							www.openfin.co | @openfintech
						</div>

        </section>
				<section>
					<img src="img/bio-pic.png">
					<div style="width:60%;float:right">
						<div style="text-align:left;">
						<h2>Nicholas Kolba</h2>
						<div>nick@openfin.co / @nkolba</div>
						<ul>
								<li>Director of Ecosystem, OpenFin</li>
								<li>Formerly at TR as Director of Technology on Eikon</li>
								<li>Leader in adoption of Chromium and  HTML5 @ TR</li>
						</ul>
					</div>
					</div>
					<aside class="notes">I’m Nick Kolba.   Director of Ecosystem @ OpenFin.  I had a long tenure at Thomson Reuters where I lead many innovative projects around the Eikon product including the Eikon App Studio, and Chromium integration into Eikon.</aside>
				</section>
				<section>
						<h2>a brief history</h2>
						<img src="img/history.png">
						<aside class="notes">
							The WEB is kind of shockingly young when you think about it.
							Especially when we consider that a lot of the technology that underlies what we would think of as the modern Web
							is only around 10 years old of less.
							But deep roots were layed in the beginning that have allowed the web to thrive and fend off challenges that would have
							taken us into a proprietary world of siloed tech like flash or silverlight.
							In just the past few years - we've seen this huge emergence of Javascrpt as ... kind of the most powerful language in the world
							as well as web technologies like Javascript and HTML finding their way into all sorts of places we would never have imagined them previously
							 like the server and installed desktop applications.
						</aside>
				</section>
				<section>
						<h2>what is openfin?</h2>
						<img src="img/whatis.png">
				</section>


				<section>
					<h2>Financial Desktop Apps Today</h2>
				</section>

				<section>
						<div style="background-image:url(img/desktop-today.png);height:700px;background-repeat:no-repeat;">
						</div>
						<aside class="notes">Traditional installed applications (Java, .Net, C++) still dominate the financial desktop, and not without reason.   Enterprise constraints on browsers, along with critical functional gaps in commercial browsers, are real non-starters in many cases.  Native/installed desktop apps bring powerful features to the table, but they also face enormous downsides, particularly around agility of deployment and updating.</aside>
				</section>


				<section>
					<h2>The OpenFin Desktop</h2>
				</section>

				<section>
						<div style="background-image:url(img/desktop-future.png);height:700px;background-repeat:no-repeat;">
						</div>
						<aside class="notes">The best of both worlds.  Native experience, but with web security and deployment models baked in.  We also want cross-platform - which we’re used to in the web world, as well as inter-operability between apps on the same client - something that is pretty common with native financial platforms but a web security model can unlock a lot more value here.</aside>
				</section>
				<section
				<section>
					<h2>Key Benefits</h2>
				</section>
				<section>
					<h2>OpenFin API</h2>
					<img src="img/api.png">
				</section>
				<section>
								<h2 style="">Communication</h2>

									<div style="display: -webkit-flex;-webkit-flex-flow: row wrap;justify-content: space-around;align-content:space-between;">
										<img src="img/node.png" style="height:200px;width:177px;">
										<img src="img/dotnet.png" style="height:200px;width:200px;">
										<img src="img/java.png" style="height:200px;width:154px;">
										<img src="img/flash.png" style="height:198px;width:200px;">
								</div>
								<div style="display: -webkit-flex;-webkit-flex-flow: row wrap;justify-content: space-around;align-content:space-between;">
										<img src="img/excel.png"  style="height:188px;width:200px;">
										<img src="img/bloomberg.png" style="height:200px;width:200px;">
										<img src="img/eikon.png" style="height:200px;width:200px;">
									</div>
								<aside class="notes">financial desktops can support an eco-system of Apps  that will begin to look a lot like micro services in the containerized world of cloud
									(web intents) (D apps)  -- distributed apps
								</aside>
				</section>
				<section>
					<h2>Security</h2>
					<ul>
						<li>Security Sandbox</li>
						<li>Group Policy</li>
						<li>Signed Code Packages</li>
						<li>Strong Application Identity</li>
					</ul>

				</section>
				<section data-background-image="img/packaging.png" data-background-size="33%" data-background-position="right">
					<h2>Packaging and Delivery</h2>
					<ul>
						<li>Runtime Version Manager</li>
						<li>Auto-Updates</li>
						<li>Protocol Handlers</li>
						<li>Installer Generator<br><i><a class="external" data-link="https://install.openfin.co/">https://install.openfin.co/</a></i></li>
					</ul>
				</section>

				<section>
						<h2>Hyperblotter</h2>
						<img src="img/hyperb.png" id="hyperblotter">
				</section>
				<section data-background-size="50%" data-background-image="img/stopwatch.png">
						<h2>"Hello World"<h2>
						<h3>in 5 minutes or less</h3>
				</section>
				<section data-background-size="30%" data-background-position="top right" data-background-image="img/stopwatch.png">
					<h2>OpenFin CLI</h2>

					<ol>
						<li>Install NodeJS</li>
						<li style="margin-top:1em;">Install OpenFin CLI
								<pre style="margin-left:0px;"><code class="hljs" style="width:800px;">
npm install -g openfin-cli
								</code></pre>
								<a class="external" data-link="https://github.com/openfin/openfin-cli">https://github.com/openfin/openfin-cli</a>
						</li>
						<li style="margin-top:1em;">
							Use the CLI to open a URL in the runtime
							<pre style="margin-left:0px;"><code class="hljs" style="width:800px;">
openfin --launch --config https://demoappdirectory.openf.in/desktop/config/apps/OpenFin/HelloOpenFin/app.json
							</code></pre>
						</li>
				</section>
				<section data-background-size="30%" data-background-position="top right" data-background-image="img/puzzle.png">
					<h2>Integrating your application</h2>

					<ol>
						<li>Set up your local app
							<pre style="margin-left:0px;"><code class="hljs" style="width:800px;">
npm init
npm install express
create app.js
						</code></pre>

						</li>
						<li style="margin-top:1em;">Use the CLI to generate a config
								<pre style="margin-left:0px;"><code class="hljs" style="width:800px;">
openfin --config app.json --name myAppName --url http://localhost:3000
						</code></pre>
						</li>
						<li style="margin-top:1em;">
							Launch using the generated app.config file
							<pre style="margin-left:0px;"><code class="hljs" style="width:800px;">
openfin --launch --config app.json
						</code></pre>
						</li>
				</section>
				<section>
					<h2>Generated Config</h2>

<pre><code class="hljs">{
	"devtools_port":9090,
	"startup_app": {
		"name": "myAppName",
		"description": "OpenFin PoC",
		"url": "http://localhost:3000",
		"uuid": "myAppName-ly42qpgzes46lxr",
		"autoShow": true
	},
	"runtime": {
		"arguments": "",
		"version": "beta"
	},
	"shortcut": {
		"company": "OpenFin",
		"description": "OpenFin PoC",
		"name": "myAppName"
	}
}</code></pre>

				</section>

				<section>
					<h2>Generating App Boilerplate</h2>
					<h3> with Yoeman</h3>

					<ol>
						<li>Install the tools
							<pre style="margin-left:0px;"><code class="hljs" style="width:800px;">
npm install -g yo grunt grunt-cli generator-openfin
						</code></pre>

						</li>
						<li style="margin-top:1em;">Initialize
								<pre style="margin-left:0px;"><code class="hljs" style="width:800px;">
yo openfin
						</code></pre>
						</li>
						<li style="margin-top:1em;">
							Run
							<pre style="margin-left:0px;"><code class="hljs" style="width:800px;">
grunt serve
						</code></pre>
						</li>
				</section>
			<section>
				<h2>Application Manifest</h2>
				<p style="font-size:16pt;"">The OpenFin Runtime requires each application to provide a JSON formatted configuration file. This configuration file defines the visual properties of the app, its dependencies, and other deployment settings. </p>
<pre><code class="hljs">{
  "startup_app": {
    "name": "Hyperblotter",
    "description": "Hyperblotter Demo",
    "url": "http://cdn.openfin.co/demos/hyperblotter/index.html",
    "icon": "http://cdn.openfin.co/demos/hyperblotter/images/hyperblotter_icon.ico",
    "uuid": "hyperblotter",
    "autoShow": true,
    "defaultWidth": 360,
    "maxWidth": 360,
    "minWidth": 360,
    "maxHeight": 90,
    "defaultHeight": 90,
    "minHeight": 90,
    "defaultTop": 50,
    "defaultLeft": 10,
    "resizable": false,
    "maximizable": false,
    "frame": false,
    "alwaysOnTop":true,
    "cornerRounding": {
        "width": 5,
        "height": 5
    }
  },
  "runtime": {
      "arguments": "",
      "version": "stable"
  },
  "appAssets": [
      {
        "src": "http://cdn.openfin.co/demos/hyperblotter/assets/dist.zip",
        "alias": "excel-dist",
        "target": "excel.exe",
        "version": "0.0.1",
        "args" : "-i -l hyperblotter.xlsx"
      },
      {
        "src": "http://cdn.openfin.co/demos/hyperblotter/assets/HyperblotterChart.zip",
        "alias": "hyperblotter-chart",
        "target": "HyperblotterChart.exe",
        "version": "1.0.0"
      }
  ],
  "splashScreenImage": "http://cdn.openfin.co/demos/hyperblotter/images/splashscreen.png",
  "shortcut": {
      "company": "OpenFin",
      "description": "Hyperblotter Demo",
      "icon": "http://cdn.openfin.co/demos/hyperblotter/images/hyperblotter_icon.ico",
      "name": "Hyperblotter Demo"
  }
}</code></pre>

			</section>



			<section>
				<h2>Working with the APIs</h2>
				<ul>
					<li>If it works in Chrome, it will work in OpenFin.</li>
					<li>The OpenFin APIs only cover what browsers don’t.</li>
					<li>The amount of OpenFin specific code in an app is limited.</li>
					<li>OpenFin doesn’t limit what frameworks you can use.</li>
					<li>Wrap API touch points using the framework of choice.</li>
				</ul>
			</section>

				<section>
					<section>
							<h1>Windowing</h1>

					</section>
					<section>
							<h2>New Window</h2>
							<pre><code class="hljs new-win" contenteditable>
var childWindow = new fin.desktop.Window({
    name: "childWindow",
    url: "child.html",
    defaultWidth: 320,
    defaultHeight: 320,
    defaultTop: 10,
    defaultLeft: 300,
    frame: true,
    resize: false,
    windowState: "normal",
    autoShow: true,
		saveWindowState:false
}, function () {
    console.log("The window has successfully been created");
}, function () {
    console.log("Error creating window");
});
</pre></code>
							<button id="new-win" class="demo-button">run demo</button>
					</section>
	<!--				<section>
							<h2>Window Configuration</h2>
							<pre><code class="hljs"></pre></code>
							<button class="demo-button">run demo</button>
					</section>-->


					<section>
							<h2>Injecting Content</h2>
							<pre><code class="inject-content hljs" contenteditable>
var header = document.createElement("h1");
header.innerText = "Hello World";

var childWindow = new fin.desktop.Window({
    name: "childWindow",
    url: "child.html",
    defaultWidth: 320,
    defaultHeight: 320,
    defaultTop: 10,
    defaultLeft: 300,
    frame: true,
    resize: false,
    windowState: "normal",
    autoShow: true
}, function () {
    console.log("The window has successfully been created");
		let win = childWindow.getNativeWindow();
		win.document.body.appendChild(header);
}, function () {
    console.log("Error creating window");
});

							</pre></code>
							<button id="inject-content" class="demo-button">run demo</button>
					</section>
					<section>
							<h2>Child Window Interaction</h2>
							<pre><code class="win-interact hljs" contenteditable>

var injectscript = document.createElement("script");
var scrpt = `
var pWin = fin.desktop.Window.getCurrent().getParentWindow();
pWin.hide();`;
injectscript.innerText = scrpt;
var showBut = document.createElement("button");
showBut.innerText = "show parent";

var childWindow = new fin.desktop.Window({
    name: "childWindow",
    url: "child.html",
    defaultWidth: 320,
    defaultHeight: 320,
    defaultTop: 10,
    defaultLeft: 300,
    frame: true,
    resize: false,
    windowState: "normal",
    autoShow: true
}, function () {
    console.log("The window has successfully been created");
		let win = childWindow.getNativeWindow();
		win.document.body.appendChild(injectscript);
		win.document.body.appendChild(showBut);
		showBut.addEventListener("click",function(){fin.desktop.Window.getCurrent().getParentWindow().show();});
}, function () {
    console.log("Error creating window");
});
							</code></pre>
							<button id="win-interact" class="demo-button">run demo</button>
					</section>
					<section>
							<h2>Animating Windows</h2>
							<pre><code class="hljs win-animate" contenteditable>
var childWindow = new fin.desktop.Window({
    name: "childWindow",
    url: "child.html",
    defaultWidth: 320,
    defaultHeight: 320,
    defaultTop: 10,
    defaultLeft: 300,
    frame: false,
    resize: false,
    windowState: "normal",
    autoShow: true,
		saveWindowState:false,
		opacity:0
}, function () {
    console.log("The window has successfully been created");
		var win = childWindow;
		win.animate({
			opacity:{
				opacity:1,
				duration:1000
			}},
			{
				interrupt:false
			},
			function(evt){
				console.log("Window opacity animation complete");
				win.animate({
					position:{
						left:10,
						top:10,
						duration:1000
					},
					size:{
						width:500,
						height:500,
						duration:1000
					}
				},
					{
						interrupt:false
					},
					function(evt){
							console.log("Window position and size animation complete");
					}
				);
		});
}, function () {
    console.log("Error creating window");
});
</code></pre>
							<button class="demo-button" id="win-animate">run demo</button>
					</section>
					<section>
							<h2>Tear-outs</h2>
							<div class="tearout" draggable>Tear this Content out into a new Window!</div>
							<pre><code class="hljs demo-tearout" contenteditable>
var tearoutWindow = new fin.desktop.Window({
	name: "tearout_" + Date.now(),
	url:"http://localhost:5000/tearout.html",
	frame:false,
	autoShow:false,
	"defaultHeight": 150,
	"defaultWidth": 500}, function () {
		},function(err){
});

document.querySelector(".tearout").addEventListener("dragend",function(event){
	event.stopPropagation();
	event.preventDefault();
	var tearout = tearoutWindow.getNativeWindow();
	tearout.document.getElementById("content").innerText = event.target.textContent;
	tearoutWindow.moveTo(event.screenX, event.screenY);
	tearoutWindow.show();
	tearoutWindow.bringToFront();
});

							</code></pre>
							<button class="demo-button" id="demo-tearout">run demo</button>
					</section>
					<section>
							<h2>Docking</h2>
							<pre><code class="hljs demo-dock" contenteditable>
var parentWindow = fin.desktop.Window.getCurrent();
var childWindow = new fin.desktop.Window({
    name: "dockWindow",
    url: "dock-child.html",
    defaultWidth: 320,
    defaultHeight: 320,
    defaultTop: 10,
    defaultLeft: 300,
    frame: true,
    resize: false,
    windowState: "normal",
    autoShow: true,
		saveWindowState:false
}, function () {
    childWindow.addEventListener("bounds-changed",boundsChanged);
}, function () {
    console.log("Error creating window");
});

function boundsChanged(event){
	console.log(event);
	parentWindow.getBounds(function(bounds){
		if(isDockable(decorateBounds(bounds),decorateBounds(event))){
			childWindow.joinGroup(parentWindow);
		}
	});
}

function decorateBounds(b){
	return {
		left:b.left,
		right:(b.left + b.width),
		top:b.top,
		bottom:(b.top + b.height)
	};
}

function inRange(a,b){
	var margin = 10;
	var range = [b-margin,b+margin];
	return (a > range[0] && a < range[1]);
}

function isDockable(pBounds,cBounds){
	//is it on the side?
	if (inRange(pBounds.left,cBounds.right) || inRange(pBounds.right,cBounds.left)){
		return true;
	}
	return false;
}
							</code></pre>
							<button class="demo-button" id="demo-dock">run demo</button>
					</section>
				</section>

				<!-- System Demos -->
				<section>
					<section>
						<h1>System</h1>
					</section>
					<section>
							<h2>Screen Info</h2>
							<pre><code class="hljs system-monitor" contenteditable>
fin.desktop.System.getMonitorInfo(function (monitorInfo) {
    console.log("This object contains information about all monitors: ", monitorInfo);
		document.getElementById("monitorInfo").innerHTML = JSON.stringify(monitorInfo);
		 hljs.highlightBlock(document.getElementById("monitorInfo"));
});
							</code></pre>
							<button class="demo-button" id="system-monitor">run demo</button>
							<pre><code class="hljs" id="monitorInfo" contenteditable>
							</code></pre>
					</section>
					<section>
							<h2>System Info</h2>
							<pre><code class="hljs system-process" contenteditable>
fin.desktop.System.getProcessList(function (list) {
    list.forEach(function (process) {
        console.log("UUID: " + process.uuid + ", Application Name: " + process.name);
				document.getElementById("processInfo").innerHTML += JSON.stringify(process);
				 hljs.highlightBlock(document.getElementById("processInfo"));
    });
});
							</code></pre>
							<button class="demo-button" id="system-process">run demo</button>
							<pre><code class="hljs" id="processInfo" contenteditable></code></pre>
					</section>
					<section>
							<h2>Launching an External Process</h2>
							<pre><code class="hljs system-external" contenteditable>
fin.desktop.System.launchExternalProcess({
        path: "notepad",
        arguments: "",
        listener: function(code) {
                console.log('the exit code', code);
            }
    },
    function() {
        console.log('all good');
    },
    function(){
        console.log('an error');
    });
							</code></pre>

							<button class="demo-button" id="system-external">run demo</button>
					</section>
					<section>
							<h2>Logging</h2>
							<pre><code class="hljs system-log" contenteditable>
fin.desktop.System.log("info",
  "An example log message",
  function () {
      console.log("message successfully logged");
  }, function(err) {
      console.log(err);
});
							</code></pre>
							<button class="demo-button" id="system-log">run demo</button>
					</section>
					<section>
							<h2>Clipboard Access</h2>
							<pre><code class="hljs system-clip" contenteditable>
fin.desktop.System.setClipboard("clipboard test", function () {
  console.log("successful");
},function (err) {
  console.log("failure: " + err);
});
							</code></pre>
							<button class="demo-button" id="system-clip">run demo</button>
					</section>
			</section>
			<!-- end System Demos -->

			<!-- Application Demos -->
			<section>
				<section>
					<h1>Application</h1>
				</section>
				<section>
						<h2>Launching an Application</h2>
						<pre><code class="hljs app-launch" contenteditable>
var app = new fin.desktop.Application({
    url: "http://demoappdirectory.openf.in/desktop/config/apps/OpenFin/HelloOpenFin/index.html",
    uuid: "foo-88",
    applicationIcon: "http://demoappdirectory.openf.in/desktop/config/apps/OpenFin/HelloOpenFin/img/openfin.ico",
    name: "HelloOpenFin",
		saveWindowState:false,
    mainWindowOptions: {
        defaultHeight: 600,
        defaultWidth: 400,
        defaultTop: 300,
        defaultLeft: 300,
        autoShow: true
    }
}, function () {
    console.log("Application successfully created");
    app.run();
}, function () {
    console.log("Error creating application");
});
						</code></pre>
						<button class="demo-button" id="app-launch">run demo</button>
				</section>
				<section>
						<h2>Managing Child Applications</h2>
						<pre><code class="hljs app-manage">
var app = new fin.desktop.Application({
    url: "http://demoappdirectory.openf.in/desktop/config/apps/OpenFin/HelloOpenFin/index.html",
    uuid: "foo-88",
    applicationIcon: "http://demoappdirectory.openf.in/desktop/config/apps/OpenFin/HelloOpenFin/img/openfin.ico",
    name: "HelloOpenFin",
    mainWindowOptions: {
        defaultHeight: 600,
        defaultWidth: 400,
        defaultTop: 300,
        defaultLeft: 300,
        autoShow: true
    }
}, function () {
    console.log("Application successfully created");
    app.run();
}, function () {
    console.log("Error creating application");
});
document.getElementById("app-closebutton").addEventListener("click",function(){
	app.close();
});
						</code></pre>
						<button class="demo-button" id="app-manage">run demo</button>
							<button class="demo-button" id="app-closebutton">close app</button>
				</section>
				<section>
						<h2>Restarting</h2>
						<pre><code class="hljs app-restart" contenteditable>
var app = new fin.desktop.Application({
    url: "http://demoappdirectory.openf.in/desktop/config/apps/OpenFin/HelloOpenFin/index.html",
    uuid: "foo-88",
    applicationIcon: "http://demoappdirectory.openf.in/desktop/config/apps/OpenFin/HelloOpenFin/img/openfin.ico",
    name: "HelloOpenFin",
    mainWindowOptions: {
        defaultHeight: 600,
        defaultWidth: 400,
        defaultTop: 300,
        defaultLeft: 300,
        autoShow: true
    }
}, function () {
    app.run();

}, function () {
    console.log("Error creating application");
});
document.getElementById("app-restartbutton").addEventListener("click",function(){
	app.restart(function () {
			console.log("You will not read this.");
	}, function (err) {
			console.log("failure:", err);
	});
});
						</code></pre>
						<button class="demo-button" id="app-restart">run demo</button>
						<button class="demo-button" id="app-restartbutton">restart app</button>
				</section>
			</section>
			<!-- end Application Demos -->

			<!-- Notification Demos -->
			<section>
				<section>
					<h1>Notifications</h1>
				</section>
				<section>
						<h2>Creating Desktop Notifications</h2>
						<pre><code class="hljs noti-create" contenteditable>
var notification = fin.desktop.Notification({
    url: "notification.html",
    message:"This is a notification message"
});
						</code></pre>
						<button class="demo-button" id="noti-create">run demo</button>
				</section>
				<section>
						<h2>Notification Callbacks</h2>
						<pre><code class="hljs noti-callback" contenteditable>
var callback = function(message){
	document.getElementById("noti-callback-msg").innerText = message;
};
fin.desktop.InterApplicationBus.subscribe("*","notification-callback",callback);
var notification = new fin.desktop.Notification({
    url: "notification-callback.html",
    message:"This is a notification message",
		onMessage:callback
});
</code></pre>
						<button class="demo-button" id="noti-callback">run demo</button>
<pre><code class="hljs" id="noti-callback-msg" contenteditable>

</code></pre>
				</section>
			</section>
			<!-- end Notification Demos -->

			<!-- Inter-App Bus Demos -->
			<section>
				<section>
					<h1>Inter-App Bus</h1>
				</section>
				<section>
						<h2>Topic Messages</h2>
						<pre><code class="hljs bus-topic" contenteditable>
var callback = function(msg){
	document.getElementById("bus-topic-msg").innerHTML += JSON.stringify(msg);
	hljs.highlightBlock(document.getElementById("bus-topic-msg"));
};


fin.desktop.InterApplicationBus.subscribe("*","a topic",callback);
fin.desktop.InterApplicationBus.publish("a topic", {
  field1: "value1",
  field2: "value2"
});

document.getElementById("bus-unsub").addEventListener("click",function(){
	fin.desktop.InterApplicationBus.unsubscribe("*","a topic", callback);
});

						</code></pre>
						<button class="demo-button" id="bus-topic">run demo</button>
						<button class="demo-button" id="bus-unsub">unsubscribe</button>
						<pre><code class="hljs" id="bus-topic-msg" contenteditable></code></pre>
				</section>
				<section>
						<h2>Direct Messages</h2>
						<pre><code class="hljs bus-direct" contenteditable>

var callback = function(msg){
	document.getElementById("bus-direct-msg").innerHTML += JSON.stringify(msg);
	hljs.highlightBlock(document.getElementById("bus-direct-msg"));
};

fin.desktop.InterApplicationBus.subscribe("direct-88","direct-topic",callback);

//launch a new application...
var app = new fin.desktop.Application({
    url: "http://localhost:5000/index-direct.html",
    uuid: "direct-88",
    name: "Direct Message Window",
    mainWindowOptions: {
        defaultHeight: 600,
        defaultWidth: 400,
        defaultTop: 300,
        defaultLeft: 300,
        autoShow: true
    }
}, function () {
    app.run();


}, function () {
    console.log("Error creating application");
});


document.getElementById("d-bus-send").addEventListener("click",function(){
	fin.desktop.InterApplicationBus.send("direct-88","direct-topic", {
		field1: "value1",
		field2: "value2"
	},function(){
		console.log("message sent");
	},function(e){
		console.log("error",e);
	}
	);
});

document.getElementById("d-bus-unsub").addEventListener("click",function(){
	fin.desktop.InterApplicationBus.unsubscribe("*","a topic", callback);
});
						</code></pre>
						<button class="demo-button" id="d-bus-unsub">unsubscribe</button>
						<button class="demo-button" id="d-bus-send">send</button>
						<button class="demo-button" id="bus-direct">run demo</button>
						<pre><code class="hljs" id="bus-direct-msg" contenteditable></code></pre>
				</section>
			</section>
			<!-- end Inter-App Bus Demos  -->

			<section>
				<h2>Building a PoC</h2>
				<ul>
					<li><a class="external" data-link="https://github.com/openfin">Our GitHub Repository</a></li>
					<li><a class="external" data-link="https://openfin.co/support/release-notes/">General Support Information</a></li>
					<li><a class="external" data-link="https://www.youtube.com/watch?v=uBuTTAL8A-4">Hello OpenFin Tutorial</a></li>
					<li><a class="external" data-link="https://github.com/openfin/openfin-training-demo">This Demo</a></li>
				</ul>
				<img src="img/poc.png">
			</section>

  	<script src="bower_components/d3/d3.js" charset="utf-8"></script>
		<script src="js/utils.js"></script>
		<script src="js/cpu-charts.js"></script>
		<script src="js/animations.js"></script>
		<script src="js/slideFunctions.js"></script>
		<script src="bower_components/reveal.js/lib/js/head.min.js"></script>
		<script src="bower_components/reveal.js/js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'bower_components/reveal.js/plugin/markdown/marked.js' },
					{ src: 'bower_components/reveal.js/plugin/markdown/markdown.js' },
					{ src: 'bower_components/reveal.js/plugin/notes/notes.js', async: true },
					{ src: 'bower_components/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});

		</script>

	</body>
</html>
